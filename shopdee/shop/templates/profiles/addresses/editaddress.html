{% extends "base.html" %}
{% load static %}

{% block title %}Edit Address{% endblock %}

{% block style %}
<link rel="stylesheet" href="{% static 'style-sheet/sidebar.css' %}" />
{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row">
        <div class="col-md-3">
            {% include "profiles/sidebar.html" %}
        </div>

        <div class="col-md-8">
            <div class="card p-4">
                <div class="d-flex justify-content-between align-items-center">
                    <h4>Edit Address</h4>
                </div>
                <form method="post">
                    {% csrf_token %}
                    
                    <!-- Recipient Name -->
                    <div class="mb-3">
                        <label for="recipient_name" class="form-label">Recipient Name</label>
                        <input type="text" class="form-control" id="recipient_name" name="recipient_name" 
                               value="{{ form.recipient_name.value }}" required>
                    </div>
                
                    <!-- Phone Number -->
                    <div class="mb-3">
                        <label for="phone_number" class="form-label">Phone Number</label>
                        <input type="text" class="form-control" id="phone_number" name="phone_number" 
                               value="{{ form.phone_number.value }}" required>
                    </div>
                
                    <!-- Address Line 1 -->
                    <div class="mb-3">
                        <label for="address_line1" class="form-label">Address Line 1</label>
                        <input type="text" class="form-control" id="address_line1" name="address_line1" 
                               value="{{ form.address_line1.value }}" required>
                    </div>
                
                    <!-- Address Line 2 -->
                    <div class="mb-3">
                        <label for="address_line2" class="form-label">Address Line 2</label>
                        <input type="text" class="form-control" id="address_line2" name="address_line2" 
                               value="{{ form.address_line2.value }}">
                    </div>
                
                    <!-- Province Dropdown -->
                    <div class="mb-3">
                        <label for="province" class="form-label">Province</label>
                        <select id="province" name="province" class="form-control" required>
                            <option value="">Select Province</option>
                            {% for province in provinces %}
                            <option value="{{ province.name_en }}" {% if form.province.value == province.name_en %}selected{% endif %}>
                                {{ province.name_en }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                
                    <!-- District Dropdown -->
                    <div class="mb-3">
                        <label for="district" class="form-label">District</label>
                        <select id="district" name="district" class="form-control" required>
                            <option value="">Select District</option>
                            {% for district in districts %}
                            <option value="{{ district.name_en }}" {% if form.district.value == district.name_en %}selected{% endif %}>
                                {{ district.name_en }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                
                    <!-- Subdistrict Dropdown -->
                    <div class="mb-3">
                        <label for="subdistrict" class="form-label">Subdistrict</label>
                        <select id="subdistrict" name="subdistrict" class="form-control" required>
                            <option value="">Select Subdistrict</option>
                            {% for subdistrict in subdistricts %}
                            <option value="{{ subdistrict.name_en }}" {% if form.subdistrict.value == subdistrict.name_en %}selected{% endif %}>
                                {{ subdistrict.name_en }}
                            </option>
                            {% endfor %}
                        </select>
                    </div>
                
                    <!-- Postal Code -->
                    <div class="mb-3">
                        <label for="postal_code" class="form-label">Postal Code</label>
                        <input type="text" class="form-control" id="postal_code" name="postal_code" 
                               value="{{ form.postal_code.value }}" required>
                    </div>
                
                    <button type="submit" class="btn btn-dark btn-sm d-block rounded-pill mx-auto">Save Changes</button>
                </form>

                {% if messages %}
                <ul class="alert alert-danger">
                    {% for message in messages %}
                    <li>{{ message }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
        </div>
    </div>
</div>

{% endblock %}
