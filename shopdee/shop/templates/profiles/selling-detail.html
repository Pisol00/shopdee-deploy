{% extends "base.html" %}
{% load static %}

{% block title %}Sale Details{% endblock %}

{% block style %}
<style>
    .button-container {
        display: flex;
        justify-content: center; /* Center buttons horizontally */
        gap: 10px; /* Set spacing between buttons */
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-5 mb-5" style="width: 800px; margin: auto;"> <!-- Set width and center here -->
    <div class="card">
        <div class="card-header">
            <h4>Sale Details #{{ sale.id }}</h4> <!-- Display Sale ID -->
        </div>
        <div class="card-body p-5">
            <h5>Product Information</h5>
            <div class="border rounded p-4 mb-4"> <!-- Add bottom margin here -->
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Collection:</strong> {{ product.collection.name }}</p> <!-- Display Collection Name -->
                        <p><strong>Price:</strong> {{ sale.price }} THB</p> <!-- Display Price -->
                    </div>
                    <div class="col-md-6">
                        <p><strong>Quantity Sold:</strong> {{ sale.quantity }}</p> <!-- Display Quantity Sold -->
                        <p><strong>Status:</strong> {{ sale.status }}</p> <!-- Display Status -->
                        <p><strong>Date Sold:</strong> {{ sale.date|date:"d M Y H:i" }}</p> <!-- Display Date Sold -->
                    </div>
                </div>
            </div>

            <h5>Payment Information</h5>
            {% for payment in payments %} <!-- Display Payment Information -->
                <div class="border rounded p-4 mb-4"> <!-- Add bottom margin here -->
                    <p><strong>Payment Method:</strong> {{ payment.payment_method|capfirst }}</p>
                    <p><strong>Amount:</strong> {{ payment.amount }} THB</p>
                    <p><strong>Payment Status:</strong> {{ payment.status }}</p>
                    <p><strong>Payment Date:</strong> {{ payment.payment_date|date:"d M Y H:i" }}</p>
                </div>
            {% empty %}
                <div class="border rounded p-4 mb-4">
                    <p>No payment information available</p> <!-- Display message when no payment information -->
                </div>
            {% endfor %}

        </div>
    </div>

    <div class="text-center mt-3 button-container"> <!-- Use Flexbox here -->
        <a href="{% url 'selling' %}" class="btn btn-dark">Back to Sales Overview</a> <!-- Change button color to black --> 
    </div>
    
</div>
{% endblock %}
